<Button>
    background_normal: ''
    background_down: ''
    background_color: .05, .5, 1, 1

<MyGrid>
    saf: start_and_finish
    upld: upload
    spin: port_dropdown
    instructions: instructions

    GridLayout:
        cols:1
        rows:2
        size: root.width, root.height

        GridLayout:

            canvas.before:
                Color:
                    rgba: .25, .25, .25, 1
                Rectangle:
                    pos: self.pos
                    size: self.size


            size_hint_y: None
            height: root.height * 0.1
            cols:3
            GridLayout:
                cols:1
                size_hint_x: None
                width: self.parent.width * 0.25
                Image:
                    keep_ratio: True
                    allow_stretch: True
                    source: 'assets/uzh_logo.png'
            Label:
                size_hint_x: None
                width: self.parent.width * 0.50
                text: "PFC Training Dashboard"
            Spinner:
                size_hint_x: None
                width: self.parent.width * 0.25
                id: port_dropdown
                height: self.parent.height
                pos_hint: {'center': (.5, .5)}
                text: 'Select device...'
                on_press: root.update_ports()
                on_text: root.select_port(self.text)


        GridLayout:
            cols: 3
            GridLayout:
                width: root.width * 0.25
                size_hint_x: None
                rows:3
                Label:
                    height: self.parent.height * 0.45
                    size_hint_y: None
                Label:
                    height: self.parent.height * 0.45
                    size_hint_y: None
                Button:
                    width: root.width * 0.25
                    size_hint_x: None
                    height: self.parent.height * 0.1
                    size_hint_y: None
                    text: 'Reboot'
                    on_press: root.reboot()

            GridLayout:
                height: root.height * 0.9
                size_hint_y: None
                width: root.width * 0.5
                size_hint_x: None
                rows: 5
                Label:
                    height: self.parent.height * 0.1
                    size_hint_y: None
                Button:
                    height: self.parent.height * 0.1
                    size_hint_y: None
                    disabled: False
                    id: start_and_finish
                    text: "Start Training"
                    on_press: root.start_finish_training()
                Label:
                    id: instructions
                    height: self.parent.height * 0.6
                    size_hint_y: None
                    text: root.initialize_training()
                    color: (0, 0, 0, 1)
                Button:
                    height: self.parent.height * 0.1
                    size_hint_y: None
                    disabled: True
                    id: upload
                    text: "Upload to Board"
                    on_press: root.upload()
                Label:
                    height: self.parent.height * 0.1
                    size_hint_y: None
            GridLayout:
                width: root.width * 0.25
                size_hint_x: None
                rows: 2
                # Show/Hide Log checkbox
                CheckBox:
                    height: self.parent.height * 0.1
                    size_hint_y: None
                    id: chk
                    on_press: root.toggle_log(self.active)
                    color: 0.5,0.5,0.5,1

                Label:
                    width: root.width * 0.25
                    size_hint_x: None
                    height: 0
                    size_hint_y: None
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 0.5
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    id: log

